/*! js13k-breaker-panel - v0.0.5 - 2015-09-04 */

!function(a){"use strict";var b,c,d,e,f,g,h,i,j,k;return c=function(b,d,e){c="function"==typeof a.addEventListener?function(a,b,c){a.addEventListener(b,c,!1)}:"function"==typeof document.attachEvent?function(a,b,c){a.attachEvent("on"+b,c)}:function(a,b,c){a["on"+b]=c}},d=function(b,c,e){d="function"==typeof a.removeEventListener?function(a,b,c){a.removeEventListener(b,c,!1)}:"function"==typeof document.detachEvent?function(a,b,c){a.detachEvent("on"+b,c)}:function(a,b,c){a["on"+b]=null}},e=function(a){"function"==typeof a.preventDefault&&a.preventDefault(),"function"==typeof a.stopPropagation&&a.stopPropagation(),"boolean"==typeof a.returnValue&&(a.returnValue=!1),"boolean"==typeof a.cancelBubble&&(a.cancelBubble=!1)},f=function(b){var c,d,e,f,g;for(c=b.split("."),e="JS13KBP",c[0]===e&&(c=c.slice(1)),f=0,g=c.length;g>f;f+=1)d=c[f],"undefined"==typeof e[d]&&(e[d]={}),e=e[d];return a.parent},g=function(){var a;return a=function(){},function(b,c){a.prototype=c.prototype,b.prototype=new a,b.superior=c.prototype,b.prototype.constructor=b}}(),h=function(a,b){var c,d;c=function(){c.superior&&c.superior.hasOwnProperty("_construct")&&c.superior._cunstruct.apply(this,arguments),c.prototype.hasOwnProperty("_construct")&&c.prototype._construct.apply(this,arguments)},a=a||Object,g(c,a);for(d in b)b.hasOwnProperty(d)&&(c.prototype[d]=b[d]);return c},i=function(a,b){var c;b=b||{};for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c])},j=function(a,b){var c,d,e;d=Object.prototype.toString,b=b||{};for(c in a)a.hasOwnProperty(c)&&(e=a[c],"object"==typeof e?(b[c]=Array.isArray(e)?[]:{},j(e,b[c])):b[c]=a[c]);return b},k=function(){var a,b,c,d,e;for(e={},a=0,c=arguments.length;c>a;a+=1){b=arguments[a];for(d in b)b.hasOwnProperty(d)&&(e[d]=b[d])}return e},a.JS13KBP=a.JS13KBP||{},b=a.JS13KBP,b.utils={on:c,off:d,stop:e,namespace:f,inherit:g,klass:h,extend:i,extendDeep:j,mix:k},b}(this),function(a){"use strict";var b,c,d;b={subscribers:{any:[]},subscribe:function(a,b){b=b||"any","undefined"==typeof this.subscribers[b]&&(this.subscribers[b]=[]),this.subscribers[b].push(a)},unsubscribe:function(a,b){this.visitSubscribers("unsubscribe",a,b)},publish:function(a,b){this.visitSubscribers("publish",a,b)},visitSubscribers:function(a,b,c){var d,e,f,g,h;for(d=c||"any",e=this.subscribers[d],h=e.length,g=0;h>g;g+=1)f=e[g],"publish"===a?f(b):f===b&&e.splice(g,1)}},c=function(a){var c;for(c in b)b.hasOwnProperty(c)&&"function"==typeof b[c]&&(a[c]=b[c]);a.subscribers={any:[]}},a.JS13KBP=a.JS13KBP||{},d=a.JS13KBP,d.pubsub={publisher:b,makePublisher:c}}(this),function(a){"use strict";var b,c;c=function(a){},b={name:"AbstractError",message:"NotImplementedYet!",remedy:c}}(this),function(a){"use strict";var b,c,d,e,f,g;b=document.createElement("svg"),c={viewBox:"0 0 100 100",version:"1.1",xmlns:"http://www,w3.org/2000/svg",width:"100",height:"100"};for(f in c)b.setAttribute(f,c[f]);d=document.createElement("path"),e={stroke:"#000000","stroke-width":"2"};for(f in e)d.setAttribute(f,e[f]);a.JS13KBP=a.JS13KBP||{},g=a.JS13KBP,g.svg={svg:b,switchElement:d}}(this),function(a){"use strict";var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;return m=function(){var a;return a=function(){},function(b,c){a.prototype=c.prototype,b.prototype=new a,b.superior=c.prototype,b.prototype.constructor=b}}(),n=function(a,b){var c,d,e;d=Object.prototype.toString,b=b||{};for(c in a)a.hasOwnProperty(c)&&(e=a[c],"object"==typeof e?(b[c]=Array.isArray(e)?[]:{},n(e,b[c])):b[c]=a[c]);return b},o=function(){var a,b,c,d,e;for(e={},a=0,c=arguments.length;c>a;a+=1){b=arguments[a];for(d in b)b.hasOwnProperty(d)&&(e[d]=b[d])}return e},t={name:"ElectronicElementError",message:"Must be an instance of ElectronicElement!",toString:function(){return this.name+": "+this.message}},r={name:"PowerSourceElementError",message:"Must be an instance of PowerSourceElement!",toString:function(){return this.name+": "+this.message}},s={name:"ConsumerElementError",message:"Must be an instance of ConsumerElement!",toString:function(){return this.name+": "+this.message}},p={setInput:function(a){if(!(a instanceof c))throw t;this._input=a,a._output=this},getInput:function(){return this._input},hasInput:function(){return"undefined"!=typeof this._input&&null!==this._input}},q={setOutput:function(a){if(!(a instanceof c))throw t;this._output=a,a._input=this},getOutput:function(){return this._output},hasOutput:function(){return"undefined"!=typeof this._output&&null!==this._output}},c=function a(b){if(!(this instanceof a))return new a(b);var c,d;d=this,a.count+=1,d._name=b+"-"+a.count,d._type="electronic",c="sizzles",d.getFeature=function(){return c}},c.count=0,d=c.prototype,d.getName=function(){return this._name},d.getType=function(){return this._type},n(o(p,q),d),d.renderSelf=function(a){var b,c;c=this,b="<img src='build/"+c._icon+"' alt='"+c._type+": "+c._name+"' />",a.innerHTML+=b},e=function(a){if(!(this instanceof e))return new e(a);var b;e.count+=1,b=this,b._name=a+"-"+e.count,b._type="switch",b._closed=!0,b._icon="switch",b._input=null,b._output=null},m(e,c),e.count=0,f=e.prototype,f.isClosed=function(){return this._closed},f.renderSelf=function(a){var b,c,d;c=this,d=c._closed?"closed":"open",b="<img src='build/"+c._icon+"-"+d+".svg' ",b+="alt='"+c._type+"-"+d+": "+c._name+"' />",a.innerHTML+=b},n(o(p,q),f),f.useSwitch=function(){this._closed=!this._closed},g=function(a){var b;return this instanceof g?(g.count+=1,b=this,b._name=a+"-"+g.count,b._type="power-source",void(b._output=null)):new g(a)},m(g,c),g.count=0,h=g.prototype,n(q,h),i=function(a){var b;return this instanceof i?(i.count+=1,b=this,b._name=a+"-"+i.count,b=this,b._type="consumer",void(b._input=null)):new i(a)},m(i,c),i.count=0,j=i.prototype,n(p,j),k=function(a){var b;return this instanceof k?(b=this,b._input=null,b._type="circuit",void(b._elements=[])):new k(a)},m(k,c),l=k.prototype,l.hasPowerSource=function(){var a;return a=this._elements.map(function(a){if(!(a instanceof c))throw t;return a.getType()}),-1!==a.indexOf("power-source")},l.addPowerSource=function(a){if(!(a instanceof g))throw r;this._elements.push(a)},l.hasConsumer=function(){var a;return a=this._elements.map(function(a){if(!(a instanceof c))throw t;return a.getType()}),-1!==a.indexOf("consumer")},l.addConsumer=function(a){if(!(a instanceof i))throw s;this._elements.push(a)},l.hasElectronic=function(){var a,b,d,e;for(a=this._elements.map(function(a){if(!(a instanceof c))throw t;return a.getType()}),b=function(a){var b;return b=["electronic","switch"],-1!==b.indexOf(a)?!0:!1},d=0,e=a.length;e>d;d+=1)if(b(a[d]))return!0;return!1},l.addElectronic=function(a){if(!(a instanceof c))throw t;this._elements.push(a)},l._mapElementsToLogic=function(){return this._elements.map(function(a){if(!(a instanceof c))throw t;switch(a.getType()){case"power-source":return a.hasOutput()&&null!==a.getOutput();case"consumer":return a.hasInput()&&null!==a.getInput();case"electronic":return a.hasInput()&&null!==a.getInput()&&a.hasOutput()&&null!==a.getOutput();case"switch":return a.hasInput()&&null!==a.getInput()&&a.hasOutput()&&null!==a.getOutput()&&a.isClosed();default:return!1}})},l.isCompleteCircuit=function(){return this.hasPowerSource()&&this.hasConsumer()&&this.hasElectronic()},l.isCircuitClosed=function(){var a;return this.isCompleteCircuit()?(a=this._mapElementsToLogic(),a.reduce(function(a,b){return a&&b})):!1},l.renderCircuitLogic=function(){var a,b,c,d,e,f,g;for(c={and:"∧",or:"∨",not:"¬"},a=this._mapElementsToLogic(),b=a.length?+a[0]:0,d=0,e=a.length-1;e>d;d+=1)f=a[d],g=a[d+1],b+=" "+c.and+" "+Number(g);return b+=" = "+Number(this.isCircuitClosed())},a.JS13KBP=a.JS13KBP||{},b=a.JS13KBP,b.element={ElectronicElement:c,SwitchElement:e,PowerSourceElement:g,ConsumerElement:i,CircuitElement:k},b}(this),function(a,b){"use strict";var c,d;return c=a.JS13KBP.utils||{},d="load module here",{utils:function(){return d}}}(this,this.JS13KBP),function(a){"use strict";var b,c,d,e,f,g,h,i,j,k,l,m,n,o;b=document.getElementById("game"),c=a.JS13KBP,d=c.element,e=new d.PowerSourceElement("power-source"),f=new d.SwitchElement("switchElement"),g=new d.SwitchElement("se"),h=new d.SwitchElement("e"),i=new d.CircuitElement("circuit"),j=new d.ConsumerElement("consumer"),f.setInput(g),g.setInput(h),i.addPowerSource(e),i.addElectronic(f),i.addElectronic(g),i.addElectronic(h),i.addConsumer(j),k=document.createElement("div"),k.innerHTML+=i.renderCircuitLogic(),l=document.createElement("svg"),l.setAttribute("viewBox","0 0 100 100"),l.setAttribute("version","1.1"),l.setAttribute("xmlns","http://www,w3.org/2000/svg"),l.setAttribute("width","100"),l.setAttribute("height","100"),b.appendChild(l),o=document.createElement("path"),o.setAttribute("stroke","#000000"),o.setAttribute("stroke-width","2"),o.setAttribute("d","m 10 10 h 20 a 6 6, 0, 1, 1, 10 0"),m=document.createElement("rect"),m.setAttribute("x","10"),m.setAttribute("y","20"),m.setAttribute("width","30"),m.setAttribute("height","40"),n=document.createElement("circle"),n.setAttribute("cx","60"),n.setAttribute("cy","60"),n.setAttribute("r","40"),l.appendChild(m),l.appendChild(n),l.appendChild(o),l.outerHTML=l.outerHTML}(this);
//# sourceMappingURL=js13k-breaker-panel.min.js.map